(this.webpackJsonpsoundcloudapp=this.webpackJsonpsoundcloudapp||[]).push([[0],{45:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(12),s=n.n(a),o=(n(45),n(5)),i=n(4),u=n.n(i),l=n(6),j=n(10),f={save:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)},get:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},clearSession:function(){sessionStorage.clear()},storeSession:function(e,t){sessionStorage[e]=JSON.stringify(t)}};var b={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e)+e)}};var d=n(35),O=n.n(d).a.create({}),g=n(70),p={getSongs:function(e){return h.apply(this,arguments)},getNextSongs:x};function h(){return(h=Object(j.a)(u.a.mark((function e(t){var n,r,c,a,s,o,i,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m(t),e.prev=1,e.next=4,g.get("/tracks?q=".concat(t,"&limit=",6,"&linked_partitioning=",!0));case 4:if(r=e.sent,c=r.collection,a=r.next_href,!(c.length<6)){e.next=16;break}return e.next=9,x(a);case 9:return s=e.sent,o=Object(l.a)(s,2),i=o[0],j=o[1],e.abrupt("return",[i,n,j]);case 16:return e.abrupt("return",[c,n,a]);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}function x(e){return v.apply(this,arguments)}function v(){return(v=Object(j.a)(u.a.mark((function e(t){var n,r,c,a,s,o,i,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.get(t);case 3:if(n=e.sent,r=n.data,c=r.collection,a=r.next_href,!(c.length<6)){e.next=15;break}return e.next=8,x(a);case 8:return s=e.sent,o=Object(l.a)(s,2),i=o[0],j=o[1],e.abrupt("return",[i,j]);case 15:return e.abrupt("return",[c,a]);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function m(e){var t=f.get("search")||[];if(t.some((function(t){return t.word===e})))return t;5===t.length&&t.pop();var n=b.makeId();return t.unshift({word:e,id:n}),f.save("search",t),t}function S(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){var r,c,a,s,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.getSongs(e.title);case 3:r=t.sent,c=Object(l.a)(r,3),a=c[0],s=c[1],o=c[2],n({type:"SET",songs:a}),n({type:"SET_SEARCH_HISTORY",search:s}),n({type:"SET_NEXT_HREF",nextHref:o}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("problem loading songs",t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}g.initialize({client_id:"ggX0UomnLs0VmW7qZnCzw "});var w=n(2);function y(e){var t=e.searchWord,n=Object(o.b)("");return Object(w.jsx)("div",{className:"search-card",onClick:function(){n(S({title:t.word}))},children:t.word},t.id)}function N(){var e=Object(o.c)((function(e){return e.songModule})).searchHistory;return Object(r.useEffect)((function(){return function(){}}),[e]),e.length?Object(w.jsxs)("section",{className:"recent-search",children:[Object(w.jsx)("h2",{children:"Recent Searchs"}),Object(w.jsxs)("div",{children:[" ",e.map((function(e){return Object(w.jsx)(y,{searchWord:e},e.id)}))]})]}):Object(w.jsx)("div",{})}var k=n(3);function E(e){var t=e.songChosen,n=Object(r.useState)({play:!0,classSong:" "}),c=Object(l.a)(n,2),a=c[0],s=c[1],o="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/".concat(null===t||void 0===t?void 0:t.id,"&auto_play=",!0),i="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80",f=(null===t||void 0===t?void 0:t.artwork_url)||null;Object(r.useEffect)(Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return(t=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("chosen"!==b){e.next=5;break}return e.next=3,s(Object(k.a)(Object(k.a)({},a),{},{classSong:"not"}));case 3:e.next=7;break;case 5:return e.next=7,s(Object(k.a)(Object(k.a)({},a),{},{classSong:"chosen"}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},function(){return t.apply(this,arguments)}(),e.abrupt("return",(function(){}));case 4:case"end":return e.stop()}}),e)}))),[t]);var b=a.classSong,d=a.play;return t?Object(w.jsxs)("div",{className:"song-container",children:[Object(w.jsx)("div",{className:"img-container",children:Object(w.jsx)("img",{className:b,onClick:function(){return s(Object(k.a)(Object(k.a)({},a),{},{play:!a.play}))},src:f||i,alt:""})}),d&&Object(w.jsx)("iframe",{title:t.title,className:"song-player",scrolling:"no",frameBorder:"no",allow:"autoplay",src:o})]}):Object(w.jsx)("section",{className:"song-container ",children:Object(w.jsx)("div",{children:Object(w.jsxs)("div",{className:"img-container",children:["   ",Object(w.jsx)("img",{src:i,alt:""})]})})})}var _=n(19),H=n(89);function C(){var e=function(){var e=Object(r.useState)({}),t=Object(l.a)(e,2),n=t[0],c=t[1];return[n,function(e){var t=e.target.name,r="number"===e.target.type?+e.target.value:e.target.value;"checkbox"===e.target.type&&(r=!n[t]||!0!==n[t]),c(Object(k.a)(Object(k.a)({},n),{},Object(_.a)({},t,r)))}]}(),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(o.b)(""),s=Object(r.useRef)(""),i=function(e){e.preventDefault(),a(S(n)),s.current.reset()};return Object(w.jsxs)("div",{className:"filter flex align-center space-between",children:[Object(w.jsx)("form",{ref:s,action:"",onSubmit:i,className:"flex",children:Object(w.jsx)("input",{name:"title",placeholder:"Search",onChange:c})}),Object(w.jsx)(H.a,{fontSize:"large",onClick:i})]})}function T(e){var t=e.song,n=Object(o.c)((function(e){return e.songModule})).songChosen,r=(null===n||void 0===n?void 0:n.id)===t.id?"card slide-out":"card",c=Object(o.b)("");return Object(w.jsxs)("div",{className:r,onClick:function(e){e.preventDefault(),c(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"SET_SONG",song:e})}catch(r){console.error("problem loading song")}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(w.jsx)("div",{className:"title",children:t.title}),Object(w.jsx)("img",{alt:t.title,src:t.artwork_url||"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80"}),Object(w.jsx)("div",{className:"tulip",children:t.title})]})}var M=n(37),D=n.n(M),R=n(38),I=n.n(R),A=n(36),W=n.n(A);function B(e){var t=e.currSongs,n=Object(o.c)((function(e){return e.songModule})).nextHref,c=Object(o.b)(""),a=Object(r.useState)("list"),s=Object(l.a)(a,2),i=s[0],b=s[1],d=function(e){b(e),f.save("className",e)};return Object(r.useEffect)((function(){var e=f.get("className")||"list";return b(e),function(){}}),[]),t.length?Object(w.jsxs)("section",{className:"song-list",children:[Object(w.jsx)("div",{className:i,children:t.map((function(e){return Object(w.jsx)(T,{song:e},e.id)}))}),Object(w.jsxs)("div",{className:"menu flex align-center space-between",children:[n&&Object(w.jsx)(W.a,{fontSize:"large",onClick:function(){var e;c((e=n,function(){var t=Object(j.a)(u.a.mark((function t(n){var r,c,a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.getNextSongs(e);case 3:r=t.sent,c=Object(l.a)(r,2),a=c[0],s=c[1],console.log(a),n({type:"SET",songs:a}),n({type:"SET_NEXT_HREF",nextHref:s}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("problem loading songs",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()))}}),Object(w.jsxs)("div",{className:"flex align-center",children:[Object(w.jsx)(D.a,{fontSize:"large",onClick:function(){return d("list")}}),Object(w.jsx)(I.a,{fontSize:"large",onClick:function(){return d("tile")}})]})]})]}):Object(w.jsx)("div",{})}function F(){var e=Object(o.c)((function(e){return e.songModule})),t=e.songs,n=e.songChosen;return Object(w.jsxs)("section",{className:"container",children:[Object(w.jsxs)("div",{className:"song-list",children:[Object(w.jsx)(C,{}),Object(w.jsx)(B,{currSongs:t})]}),Object(w.jsx)(E,{songChosen:n}),Object(w.jsx)(N,{})]})}var z=function(){return Object(w.jsx)("div",{className:"App main-container",children:Object(w.jsx)(F,{})})},G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},X=n(39),J=n(17),q=n(25),L={songs:[],songChosen:null,searchHistory:f.get("search")||[],searchWord:"",nextHref:null};var V=Object(J.b)({songModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET":return e=Object(k.a)(Object(k.a)({},e),{},{songs:t.songs});case"SET_SONG":return e=Object(k.a)(Object(k.a)({},e),{},{songChosen:t.song});case"SET_SEARCH_HISTORY":return e=Object(k.a)(Object(k.a)({},e),{},{searchHistory:t.search});case"SET_SEARCH_WORD":return e=Object(k.a)(Object(k.a)({},e),{},{searchWord:t.word});case"SET_NEXT_HREF":return e=Object(k.a)(Object(k.a)({},e),{},{nextHref:t.nextHref});case"ADD":return e=Object(k.a)(Object(k.a)({},e),{},{songs:[].concat(Object(q.a)(e.songs),[t.song])});case"EDIT":var n=Object(q.a)(e.songs);return n.map((function(e){return e._id===t.song._id?t.song:e})),e;default:return e}}}),Y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.c,P=Object(J.d)(V,Y(Object(J.a)(X.a)));s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(o.a,{store:P,children:Object(w.jsx)(z,{})})}),document.getElementById("root")),G()}},[[73,1,2]]]);
//# sourceMappingURL=main.d135bcaa.chunk.js.map